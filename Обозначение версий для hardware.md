# Обозначение версий для hardware
15.05.19

Ввиду низкой самодисциплины и растущей потребности в порядке создан данный мини стандарт. Он устанавливает правила формирования номера версии а так же ведения git репозитория на сборку (печатный узел, блок и т. п.).

## 1 Общие положения
1.1 За основу обозначений принята система внесения изменений ЕСКД.
Если вы читаете этот документ впервые, то советую прочитать хотя бы второй раздел ГОСТ 2.503.

1.2 **Внесение изменений это не создание следующий версии железа**, которое не совместимо с изделиями выпущенными до этого (п. 4.2 ГОСТ 2.503).
В этом случае необходимо присвоить изделию новое обозначение. На изделия единичного производства и на опытный образец (опытную партию) допускается не выпускать конструкторские документы с новыми обозначениями, если их применяют не более чем в одном документе.

1.3 Под релизом подразумевается изготовление узла.

## 2 Внесение изменений и ведение репозитория

2.1 Log git представляет из себя журнал изменений до литеры O1.
По возможности стоит пользоваться Log git в течении всего жизненного цикла изделия.

2.2 Репозиторий необходимо создавать для каждой сборочной единицы.

2.3 Внесение изменений лучше производить скопом (т. е. коммит делать стоит только после корректировок во всех КД по данному изменению).

2.4 Литеру изменения при **релизе** надо проставить во всех КД (в pdf, в исходник САПРа, на шеклографию и медь).

Если указание версии с поясняющей надписью "Версия", "version", "V" затруднительна, то следует указать её хотя бы в квадратных скобках.

2.5 Если изменение допускает **доработку задела**, то в шеклографию и медь номер версии вносить не надо.

Изменения по электрике нужно внести в файл схемы. Изменения в трассировке для релиза (без доработки задела) вносятся в основной файл pcb.

Для каждого дорабатываемого задела необходимо создать свой pcb файл с именем "Доработка N", где N - номер задела. В отдельном слое проекта (см. табл. ниже) необходимо внести пометки, касающиеся доработки (в том числе и место наклейки/надписи с новым номером литеры изменения). На изделие стоит поместить новый номер.

САПР      | Слой доработки снизу                   | Слой доработки сверху
:-------- |:--------------------------------------:| --------------------------------------:
DipTrace  | Нижняя графика                         | Верхняя графика
Altium    | Mechanical 3 (Revision Back (orange))  | Mechanical 4 (Revision Front (orange))

Однако, если доработка несущественная, то достаточно сделать фотографии доработки, поместить их каталог "Доработка N" и выполнить коммит.
Если делать это сверх сил, то хотя бы в комментарию к коммиту нужно описать действия, которые необходимо произвести с изделием из предыдущего коммита, чтобы получилась новая версия. Например "Связи выполнить проводом сечением не менее 0.22 мм^2".

В комментарии к коммиту необходимо поместить указание о заделе по ГОСТ 2.503.

Если и это невыносимо тяжело, и ты находишься в режиме экономии калорий, то хотя бы пометь изделие надписью со смыслом: "нет в системе контроля версий". При этом надпись с версией не удаляй, он поможет найти хотя бы последний коммит.

2.6 Допускается указывать номер версии на изделии в новом месте (при этом старый номер необходимо подчистить или хотя бы изуродовать).

2.4 Изменения касающиеся вторичных КД (README файл, опечатки в ПЭ3 и т. п.) тоже закрепляются коммитом.

2.5 Тег релиза стоит размещать для изделий, отданных на производство. Тэг имеет следующий вид:  
`release_ММ.YY`,  
где release - просто строка;  
ММ.YY - год и месяц изготовления.

2.6 При отдаче в производство файл проекта стоит переименовать добавив к нему номер версии (для СКВ контрактника).

## 3 Обозначение версий узла

3.1 HW версия представляет из себя номер последнего изменения.

3.2 Если КД была отдана на изготовление, но в процессе накопились доработки, то см. п. 2.5.
